<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Sistema do Ca√ßador</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body {
  margin: 0;
  font-family: Arial, sans-serif;
  background: linear-gradient(135deg, #0b1026, #3a136f);
  color: #ffffff;
}

.container {
  max-width: 900px;
  margin: auto;
  padding: 30px 20px;
}

.section {
  background: rgba(255,255,255,0.08);
  border-radius: 14px;
  padding: 20px;
  margin-bottom: 25px;
}

h3 {
  margin-top: 0;
  border-bottom: 1px solid rgba(255,255,255,0.3);
  padding-bottom: 6px;
}

ul {
  list-style: none;
  padding: 0;
}

li {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 6px 0;
  border-bottom: 1px solid rgba(255,255,255,0.15);
}

button {
  background: #1f2b6d;
  color: #fff;
  border: none;
  padding: 6px 10px;
  border-radius: 6px;
  cursor: pointer;
}

button.excluir {
  background: #7a1f2b;
  margin-left: 8px;
}

button:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

small {
  opacity: 0.7;
}
</style>
</head>

<body>
<div class="container">

<h1>Sistema do Ca√ßador</h1>
<h2>Jogador: Ka√≠co Rodrigues</h2>

<div class="section">
<p>Rank: <strong id="rank">E</strong></p>
<p>N√≠vel: <strong id="nivel">1</strong></p>
<p>Pontos: <strong id="pontos">0</strong></p>
<p>XP: <span id="xp">0</span> / 100</p>
</div>

<div class="section">
<h3>üìÖ Miss√µes Di√°rias</h3>
<ul id="missoes-diarias"></ul>
</div>

<div class="section">
<h3>üìÜ Miss√µes Semanais</h3>
<ul id="missoes-semanais"></ul>
</div>

<div class="section">
<h3>‚≠ê Miss√µes Especiais</h3>
<ul id="missoes-especiais"></ul>
</div>

<div class="section">
<h3>üéÅ Recompensas</h3>
<ul id="recompensas"></ul>
</div>

<div class="section">
<h3>‚ö†Ô∏è Puni√ß√µes</h3>
<ul id="punicoes"></ul>
</div>

<div class="section">
<h3>üõ†Ô∏è Painel do Sistema</h3>

<select id="tipo">
  <option value="missao">Miss√£o</option>
  <option value="recompensa">Recompensa</option>
  <option value="punicao">Puni√ß√£o</option>
</select>

<select id="categoria">
  <option value="diaria">Di√°ria</option>
  <option value="semanal">Semanal</option>
  <option value="especial">Especial</option>
</select>

<input id="titulo" placeholder="Descri√ß√£o">
<input id="valor" type="number" placeholder="Pontos / Custo">

<button onclick="adicionar()">Adicionar</button>
</div>

</div>

<script>
let dados = JSON.parse(localStorage.getItem("sistema")) || {
  pontos: 0,
  missoes: [],
  recompensas: [],
  punicoes: []
};

const pontosEl = document.getElementById("pontos");
const nivelEl = document.getElementById("nivel");
const xpEl = document.getElementById("xp");
const rankEl = document.getElementById("rank");

function salvar() {
  localStorage.setItem("sistema", JSON.stringify(dados));
}

function atualizarStatus() {
  pontosEl.textContent = dados.pontos;
  const nivel = Math.floor(dados.pontos / 100) + 1;
  nivelEl.textContent = nivel;
  xpEl.textContent = dados.pontos % 100;

  let rank = "E";
  if (nivel >= 55) rank = "Monarca";
  else if (nivel >= 45) rank = "Nacional";
  else if (nivel >= 36) rank = "SSS";
  else if (nivel >= 28) rank = "SS";
  else if (nivel >= 21) rank = "S";
  else if (nivel >= 15) rank = "A";
  else if (nivel >= 10) rank = "B";
  else if (nivel >= 6) rank = "C";
  else if (nivel >= 3) rank = "D";

  rankEl.textContent = rank;
}

function render() {
  const diaria = document.getElementById("missoes-diarias");
  const semanal = document.getElementById("missoes-semanais");
  const especial = document.getElementById("missoes-especiais");

  diaria.innerHTML = "";
  semanal.innerHTML = "";
  especial.innerHTML = "";

  dados.missoes.forEach((m,i)=>{
    const li = document.createElement("li");
    li.innerHTML = `
      <label>
        <input type="checkbox" ${m.feita?"checked":""}
        onclick="toggleMissao(${i})">
        ${m.titulo} (+${m.valor})
      </label>
      <button class="excluir" onclick="excluirMissao(${i})">‚ùå</button>
    `;
    if (m.categoria === "diaria") diaria.appendChild(li);
    if (m.categoria === "semanal") semanal.appendChild(li);
    if (m.categoria === "especial") especial.appendChild(li);
  });

  document.getElementById("recompensas").innerHTML =
    dados.recompensas.map((r,i)=>`
      <li>
        <span>${r.titulo} (${r.valor})</span>
        <span>
          <button ${dados.pontos<r.valor?"disabled":""}
          onclick="usarRecompensa(${i})">Usar</button>
          <button class="excluir" onclick="excluirRecompensa(${i})">‚ùå</button>
        </span>
      </li>
    `).join("");

  document.getElementById("punicoes").innerHTML =
    dados.punicoes.map((p,i)=>`
      <li>
        ${p.titulo}
        <button class="excluir" onclick="excluirPunicao(${i})">‚ùå</button>
      </li>
    `).join("");

  atualizarStatus();
}

function toggleMissao(i){
  dados.missoes[i].feita = !dados.missoes[i].feita;
  dados.pontos += dados.missoes[i].feita ? dados.missoes[i].valor : -dados.missoes[i].valor;
  salvar(); render();
}

function usarRecompensa(i){
  dados.pontos -= dados.recompensas[i].valor;
  alert("Recompensa utilizada.");
  salvar(); render();
}

function excluirMissao(i){ dados.missoes.splice(i,1); salvar(); render(); }
function excluirRecompensa(i){ dados.recompensas.splice(i,1); salvar(); render(); }
function excluirPunicao(i){ dados.punicoes.splice(i,1); salvar(); render(); }

function adicionar(){
  const tipo = document.getElementById("tipo").value;
  const cat = document.getElementById("categoria").value;
  const titulo = document.getElementById("titulo").value.trim();
  const valor = parseInt(document.getElementById("valor").value)||0;
  if (!titulo) return;

  if (tipo==="missao") dados.missoes.push({titulo,valor,categoria:cat,feita:false});
  if (tipo==="recompensa") dados.recompensas.push({titulo,valor});
  if (tipo==="punicao") dados.punicoes.push({titulo});

  document.getElementById("titulo").value="";
  document.getElementById("valor").value="";
  salvar(); render();
}

// ================= RESET DI√ÅRIO E SEMANAL =================

// Data de hoje (apenas dia/m√™s/ano)
const hoje = new Date().toLocaleDateString();

// Semana atual (n√∫mero da semana no ano)
function semanaAtual() {
  const data = new Date();
  const inicioAno = new Date(data.getFullYear(), 0, 1);
  const dias = Math.floor((data - inicioAno) / 86400000);
  return Math.ceil((dias + inicioAno.getDay() + 1) / 7);
}

// üîÑ Reset di√°rio
if (localStorage.getItem("ultimoResetDiario") !== hoje) {
  dados.missoes.forEach(m => {
    if (m.categoria === "diaria") {
      m.feita = false;
    }
  });
  localStorage.setItem("ultimoResetDiario", hoje);
  salvar();
}

// üîÑ Reset semanal
if (localStorage.getItem("ultimaSemana") != semanaAtual()) {
  dados.missoes.forEach(m => {
    if (m.categoria === "semanal") {
      m.feita = false;
    }
  });
  localStorage.setItem("ultimaSemana", semanaAtual());
  salvar();
}

render();
</script>

</body>
</html>



















